# Spring Boot Internal Working

Topics - 
1. Bean
2. Inversion of Control
3. IoC Container
4. Application Context
5. How to create Bean ?
    - @Component
    - @Configuration & @Bean
6. How to check if the beans are present in application ?
    - Using Actuators
    - Using object of Application Context


## 1. Bean

Bean is nothing but a POJO (Plain Old Java Object) which is managed by Spring.

So any Class Object which is managed by Spring is called Bean.

## 2. Inversion of Control

Initially were used to create Object of any class like below - 

```
ClassName obj1 = new ClassName() ;
```

But with String, we externalize the object creation and ask Spring to control object creation and provide the Object.

So now the Object Creation Control has been inverted and instead of we creating the object, Spring Project is creating the object.

Hence it is called `Inversion of Control - IoC`.

## 3. IoC Container

`IoC Container (Inversion of Control Container)` is a tool of Spring which work as a container to create the Bean and store it with itself and when needed it simply inject it.

It only Scans and stores those Classes which have required Annotations.


## 4. ApplicationContext

Application Context is the way or using or implement IoC Container.

## 5. How to create Bean ?

When we provide configuration Metadata or Annotation to POJO, it turns into a Bean.

### Ways to create Bean - 
1. @Component
2. @Configuration & @Bean

### 5.1 Use @Component

To Convert any POJO we can use this Annotation at the Class level to turn it into Bean.

We can use other Annotations which represents Component but also represents different Layers.

Hence we can use `@Service`, `@Repository`, or `@RestController` etc.




### 5.2 Use @Configuration & @Bean

We can define a Class and then define its configuration class which will return the object of Actual class.

Ex-

Suppose we have a Class called CreditCardService which contains cardPayment method which we wants to use during transaction process - 

```
public class CreditCardService {
	
	public void cardPayment(){
        .... Payment logic .....
    }
	
}
```

Now we will define a Configuration class for the same which will return an object of CreditCardService making it as a Bean - 

```
@Configuration
public class PaymentConfig {

    @Bean
    public CreditCardService creditCardService () {
        return new CreditCardService() ;
    }

}
```


## 6. How to check if the beans are present in application ?

### 6.1 Using Actuators

In the `pom.xml` file, add the below dependency in dependency section - 

```
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

And On your application go to `src/main/resources/application.properties` file and the below configuration - 

```
management.endpoints.web.exposure.include = *
```

Now Run your application.
If it is running on port 8080 then use the below url on browser to see the beans - 

```
http://localhost:8080/actuator/beans
```


### 6.2 Using object of Application Context (ConfigurableApplicationContext)

We can define the ConfigurableApplicationContext in our main class like below and we can use its getBean Method to check if Bean is present - 

```
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ConfigurableApplicationContext;


@SpringBootApplication
public class ProjectApplication {

	public static void main(String[] args) {
    //		SpringApplication.run(ProjectApplication.class, args);
		
		ConfigurableApplicationContext applicationContext = SpringApplication.run(ProjectApplication.class, args) ;
		
        System.out.println( applicationContext.getBean("employeeService") ) ;
	}

}
```