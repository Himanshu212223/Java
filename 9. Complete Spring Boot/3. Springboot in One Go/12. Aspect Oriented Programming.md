# Aspect Oriented Programming 

## Terminologies in APO


**Aspect** - In Spring Boot (Spring Framework), an Aspect is a key concept in Aspect-Oriented Programming (AOP). 

- It allows you to separate cross-cutting concerns (like logging, security, transactions, etc.) from the main business logic.

**Join Point** - In Spring AOP, a Join Point is a specific point during the execution of a program where an aspect can be applied.

**Advice** - The "action" that is executed at a Join Point (like before or after a method call) is called Advice.

**Pointcut** - In Spring AOP, a Pointcut is a predicate (expression) that matches one or more Join Points â€” i.e., it tells Spring where to apply the advice (before, after, around, etc.).











## AOP Proxies

- In Spring AOP, an AOP Proxy is a dynamically created object that wraps the original target object and intercepts method calls to apply advice (before, after, around, etc.).

Suppose we have below Component on which we wants to apply AOP.

```
@RestController
public class EmployeeController {

    @RequestMapping(path = "/getEmployee", method = RequestMethod.GET)
    public String getEmployee(){
        .....
    }

    @RequestMapping(path = "/addEmployee", method = RequestMethod.POST)
    public String addEmployee(){
        .....
    }

    @RequestMapping(path = "/updateEmployee", method = RequestMethod.PUT)
    public String updateEmployee(){
        .....
    }

    @RequestMapping(path = "/deleteEmployee", method = RequestMethod.DELETE)
    public String deleteEmployee(){
        .....
    }
} 

```

And we wants to execute the Logs across (before or after) all the methods used on the above Component.

So, we will define a Aspect as below - 

> Aspect Class should also be the Component as well so that its bean gets created and managed by SpringBoot.


```
@Component
@Aspect
public class LoggingAspect {

    //  @Before("execution(method-return-type   packag-name.methodName(..) )")

    @Before("execution(* packag-name.getEmployee(..) )")      // --> This will execute the below method before the execution of getEmployee method of Controller.
    public void log() {
        System.out.println("Perform Logging");
    }

}
```


### How to use Around ..?

```
@Component
@Aspect
public class LoggingAspect {

    @Around("execution(* packag-name.getEmployee(..) )")
    public Object log(ProceedingJoinPoint joinPoint) {
        
        System.out.println("Before call Logging");

        Object result = joinPoint.proceed();    // --> This will transfer the execution to the controller around which you wants to execute.
    
        System.out.println("After call Logging");

        return result ;

    }

}
```





## Pointcut Expressions

```
@Component
@Aspect
public class LoggingAspect {

    @Pointcut("execution(* packag-name.getEmployee(..) )")
    private void anyOldWayToTransfer () {}

    @Around("anyOldWayToTransfer () ")
    public Object log(ProceedingJoinPoint joinPoint) {
        
        System.out.println("Before call Logging");

        Object result = joinPoint.proceed();    // --> This will transfer the execution to the controller around which you wants to execute.
    
        System.out.println("After call Logging");

        return result ;

    }

}
```



## Pointcut Designators

We have used **execution** designators above similarly we have a logs which are documented on springboot page.