# Spring Boot Scheduling

Topics -
1. What is Scheduling
2. How to Enable and Use Scheduling in Spring Boot Application 
    - @EnableScheduling
    - @Scheduled
3. Dynamic Scheduling

## 1. What is Scheduling

- Scheduling allows us to automate some tasks at specific intervals or time.

- It helps in running background jobs without manual intervention.






## 2. How to Enable and Use Scheduling in Spring Boot Application

### 2.1 Enable Scheduling in Spring Boot Application

- We can use **@EnableScheduling** Annotation on the Configuration class i.e., the main class.



### 2.2 Use Scheduling in Spring Boot Application

- Suppose we have a Service on which there is a method which we wants to execute after every certain period of time.

- We can use **@Scheduled** Annotation at the method level like below - 

```
@Service
public class OrderSchedular {
    
    @Scheduled ( fixedRate = 5000 )     // This will execute the method after interval of every 5 minutes
    public void processPendingOrder () {
        ......
    }
    
}
```


### 2.3 Various Arguments of @Scheduled Annotation

1. **fixedRate** - It executes the methods in interval of certain time.

    ex- below will execute in an interval of every 5 second.

        @Scheduled ( fixedRate = 5000 )  


2. **fixedDelay** - It executes the methods after every certain time once the previous execution got completed.

    ex- below will execute after 5 second when the previous execution completed.

        @Scheduled ( fixedDelay = 5000 )   


3. **initialDelay** - It helps to delay the first execution of the method.

    ex- below will execute after 5 minute when the previous execution completed but with initial delay of 2 second.

        @Scheduled ( initialDelay = 2000 , fixedDelay = 5000 )   


3. **cron** - It helps to provide more defined date time or way to execution of the Scheduled method.

    > cron patters is like * * * * * * which represents **seconds(0-59) minutes(0-59) hours(0-23) day_of_month(0-31) month(0-12) day_of_week (Sunday = 0 ... 7)**

    > `*` means all values

    > `,` means multiple values 

    > `-` defines the range (like from 2 to 5 minute) 
    
    > `/` Simplifies increments (like `*/5 * * * * *` runs every 5 seconds) 

    > `?` Used for Day of the month or Day of the week when we don't care about the value 

    > `L` Used to represent Last day of the month or week 

    > `W` Used to represent nearest weekday to the given day (like `15W` means nearest weekday to 15th) 

    > `#` Used to represent Nth occurance of a weekday (like `2#3` means 3rd Monday of the month where 2 - monday and 3 - 3rd) 

    ex- below will execute after 5 minute when the previous execution completed but with initial delay of 2 second.

        @Scheduled ( cron = "* * * * * *" )   





## 3. Dynamic Scheduling

What if we wants to update the Schedular of a Live project, we can use Dynamic Scheduling.

In this approach, we can detach the Schedular from our actual project and can use it dynamically.

### 3.1 Implement Dynamic Scheduling using ThreadPoolTaskSchedular

- It is a class provided and managed by Srping which helps to dynamically update the cron expressions or schedule execution.

- To use this, we can create a new Spring Boot Application where entity will be storing the cron expression and service will help to store and read cron data from db.


```
private final ThreadPoolTaskSchedular dynamicSchedular = new ThreadPoolTaskSchedular() ;
```

