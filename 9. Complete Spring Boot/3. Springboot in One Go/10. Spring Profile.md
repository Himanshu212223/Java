# Application Properties and Profile Specific Config

Topics - 
1. How to read the values from application.properties file ..?
2. What is Profile and How to use it ?
3. How to change Active profile instead of mentioning in main application.properties file ?
    - using Command
    - Using pom.xml file
    - Using @Profile Annotation


### Problem ?

- If we wants to configure different properties for different environment how can we manage that ?

### Solution

- We can create multiple **application.properties** file with different profile for different environment. 

> Note : We must have **application.properties** file along with other profiles like application-dev.properties etc because **application.properties is a parent** and others (like application-dev.properties or application-qa.properties) will be the child.

like - application-dev.properties , application-qa.properties and application-prod.properties file **along with application.properties file**.


## 1. How to read the values from application.properties file ..?

Suppose the value is defined on application.properties file like - 

```
username = deviceUserName
password = adminPassword
```

And we wants to read this value on Component we can use **@Value** Annotation like below - 

```
@Component
public class DBConnection {

    @Value( "${username}" )
    String userName ;

    @Value( "${password}" )
    String password ;
}
```

## 2. What is Profile and How to use it ?

Suppose we have created 3 application.properties file like - 

`application-dev.properties , application-test.properties , application-prod.properties` and each have different configurations.

Then, in our **application.properties** file we can mark the other application properties file as active.

The Configuration on **application.properties** will look like below - 

```
spring.profiles.active=dev
```

This will make the active profile as `application-dev.properties` and use credentials from there.


## 3. How to change Active profile instead of mentioning in main application.properties file ?

### 3.1 Using Command 

We can use below command to start the application to use different profile like - 

```
mvn spring-boot:run -Dspring-boot:run.profiles=dev
```


### 3.2 Using pom.xml file

```
<profiles>
    <profile>
        <id> local </id>
        <properties>
            <spring-boot.run.profiles> dev </spring-boot.run.profiles>
        </properties>
    </profile>
</profiles>
```

We can add this above profile on project section on pom.xml file.




### 3.3 Using @Profile Annotation

- It is a class level annotation.
- It helps to define whether any Bean will be created or not based on which profile is set on the application.properties file.

Ex - If we wants to create and Inject a Bean only when the dev Profile is selected - 

**In application.properties** - 
```
username = adminuser
password + admin

spring.profiles.active = dev
```


**In application-dev.properties** -
```
username = DevUser
password = DevPassword
```

**In Component** -
```
@Component
@Profile("dev")
public class DBConnection {

    @Value( "${username}" )
    String userName ;

    @Value( "${password}" )
    String password ;
}
```


Now, dBConnection bean will only be created if the active profile on **application.properties** file is marked as **dev**.